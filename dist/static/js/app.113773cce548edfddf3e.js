webpackJsonp([1],{108:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(54),s=n.n(r),o=n(55),a=n.n(o),i=n(179),l=n.n(i),c=n(178),u=n.n(c),d=n(53);e.default={name:"app",components:{TodoItem:l.a,Login:u.a},data:function(){return{show:!0,activeName:"first",selectClass:"a_info",content:"",textarea:"",dialogVisible:!1,store:{a_info:{name:"记录",list:[]},b_important:{name:"重要",list:[]},c_urgency:{name:"紧急",list:[]}}}},created:function(){this.init()},methods:{upload:function(){var t=this;console.log("upload"),d.a.get("easyTodoStorage").then(function(e){alert(a()(e)),(new(chrome.extension.getBackgroundPage().Github)).updateTodo("todo/create",e),t.$message({type:"success",message:"同步上传成功"})})},download:function(){var t=this;(new(chrome.extension.getBackgroundPage().Github)).getTodo("todo/create",d.a),this.show=!1,this.$nextTick(function(){t.init(),t.show=!0}),this.$message({type:"success",message:"下载同步完成"})},handleClick:function(t,e){console.log(t,e)},init:function(){var t=this;d.a.get("easyTodoStorage").then(function(e){t.$set(t.$data,"store",e||{a_info:{name:"记录",list:[]},b_important:{name:"重要",list:[]},c_urgency:{name:"紧急",list:[]}})})},doConfirm:function(t){if(""===t.trim())return this.$message({type:"warning",message:"不能为空哦"});this.store[this.selectClass].list.splice(0,0,{content:t,showBody:!1,remind:""}),this.content="",this.textarea="",this.dialogVisible=!1,this.setStore()},setStore:function(){var t=this.store;for(var e in t){var n=t[e].list,r=!0,o=!1,a=void 0;try{for(var i,l=s()(n);!(r=(i=l.next()).done);r=!0){var c=i.value;c.showBody=!1,c.remind&&(c.remind=c.remind.toString())}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}d.a.set({easyTodoStorage:t})},showTextArea:function(){this.textarea=this.content,this.dialogVisible=!0}}}},109:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(53);e.default={data:function(){return{ruleForm:{url:"",token:""},rules:{url:[{required:!0,message:"请输入仓库完整URL地址",trigger:"blur"},{min:3,max:100,message:"请输入仓库完整URL地址",trigger:"blur"}],token:[{required:!0,message:"请输入私有访问接口Token",trigger:"blur"},{min:3,max:100,message:"请输入私有访问接口Token",trigger:"blur"}]}}},mounted:function(){var t=this,e=["username","repos","token"],n=void 0,r=void 0,s=void 0;chrome.storage.local.get(e,function(e){n=e.username,r=e.repos,s=e.token,t.ruleForm.url="https://github.com/"+n+"/"+r,t.ruleForm.token=s})},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;console.log("submit success",e.ruleForm);var n=e.ruleForm.url.split("/"),s=n[n.length-2],o=n[n.length-1],a=e.ruleForm.token;r.a.set({username:s,repos:o,token:a}),chrome.storage.local.set({username:s,repos:o,token:a},function(){(new(chrome.extension.getBackgroundPage().Github)).create("todo/create"),chrome.notifications.create(null,{type:"basic",iconUrl:"img/icon.png",title:"保存配置",message:"认证配置成功"})})})},resetForm:function(t){this.$refs[t].resetFields()}}}},110:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(54),s=n.n(r);e.default={props:["type","data"],data:function(){return{pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}}}},filters:{date2str:function(t){var e=new Date(t),n=e.getMonth()+1,r=e.getDate();return n<10&&(n="0"+n),r<10&&(r="0"+r),n+"-"+r}},computed:{remindLength:function(){return this.data.list.filter(function(t){return t.remind}).length}},created:function(){var t=this;this.$nextTick(function(){t.setDatePickerDefault()})},methods:{setDatePickerDefault:function(){var t=!0,e=!1,n=void 0;try{for(var r,o=s()(this.data.list);!(t=(r=o.next()).done);t=!0){var a=r.value;this.$set(a,"remind",a.remind||"")}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}},deleteList:function(t){this.$delete(this.data.list,t),this.setStore()},dateChange:function(t){this.data.list[t].read=!1,this.setStore()},setStore:function(){this.$root.$children[0].setStore()}}}},111:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),s=n.n(r),o=n(84),a=n.n(o),i=n(81),l=n.n(i),c=n(82),u=(n.n(c),n(83));n.n(u);s.a.use(l.a),s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:a.a}})},173:function(t,e){},177:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA1UlEQVQ4T6WT6xEBQRCEuzOQATKQgZMJESgREIIMyIAMkIEQTgRk0GrU7pW9fVjMv62a/ubRs8SfwZxe0gTACcADwIxkm8otATYATDQyCMltNUDSAMABQONERwALktZNEFEHTmyt2wjvcXWjBJAUwFpdZnaz6o+SApwBTDOAC0k/1islBbDFDX8CuPnvpdMgGRQNHpLmAHYfbsvc2PucPqDUvte0JMcRQJIdzrrysjs3ug4k1VT3/BtJu9DYBZ8hyezydpp9Zm8Upb9gFbyo+fozVe4CT3b1SRGGGH2EAAAAAElFTkSuQmCC"},178:function(t,e,n){var r=n(50)(n(109),n(182),null,null,null);t.exports=r.exports},179:function(t,e,n){function r(t){n(173)}var s=n(50)(n(110),n(180),r,null,null);t.exports=s.exports},180:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"todo-item",class:t.type},[r("div",{staticClass:"el-card box-card"},[r("div",{staticClass:"el-card__header"},[r("div",{staticClass:"clearfix card-header"},[r("el-row",[r("el-col",{attrs:{span:4}},[t._v(t._s(t.data.name))]),t._v(" "),r("el-col",{staticClass:"text-right",attrs:{span:20}},[t._v("\n\t\t\t\t\t\t\t共有待办 "+t._s(t.data.list.length)+" 条，提醒 "+t._s(t.remindLength)+" 条\n\t\t\t\t\t\t")])],1)],1)]),t._v(" "),r("div",{staticClass:"el-card__body scrollbar"},t._l(t.data.list,function(e,s){return r("div",{staticClass:"text list-item"},[r("el-row",[r("el-col",{attrs:{span:e.remind?14:22}},[r("p",{staticClass:"text-ellipsis",staticStyle:{cursor:"pointer"},on:{click:function(n){e.showBody=!e.showBody,t.dateValueIndex=s}}},[r("span",{class:"el-icon-caret-"+(e.showBody?"bottom":"right")}),t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.content)+"\n                            ")])]),t._v(" "),r("el-col",{directives:[{name:"show",rawName:"v-show",value:e.remind,expression:"item.remind"}],staticClass:"text-center",attrs:{span:8}},[r("span",{staticClass:"list-item-remind",class:t.type+"-back"},[r("img",{staticStyle:{height:"12px","margin-top":"4px"},attrs:{src:n(177)}}),t._v("\n                                "+t._s(t._f("date2str")(e.remind))+"\n                                "),r("i",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.remind=""}}},[t._v("×")])])]),t._v(" "),r("el-col",{staticClass:"text-right",attrs:{span:2}},[r("span",{staticClass:"el-icon-circle-cross",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.deleteList(s)}}})])],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showBody,expression:"item.showBody"}],staticClass:"list-item-body"},[t._v("\n\t\t\t\t\t\t"+t._s(e.content)+"\n\n\t\t\t\t\t\t"),r("div",{staticStyle:{"margin-top":"5px"}},[t._v("\n\t\t\t\t\t\t\t设置提醒：\n\n\t\t\t\t\t\t\t"),r("el-date-picker",{attrs:{type:"date",size:"mini",placeholder:"选择日期"},on:{change:function(e){return t.dateChange(s)}},model:{value:e.remind,callback:function(n){t.$set(e,"remind",n)},expression:"item.remind"}})],1)])],1)}),0)])])},staticRenderFns:[]}},181:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"备忘录",name:"first"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:15}},[n("el-input",{staticClass:"top-input",class:t.selectClass,attrs:{placeholder:"请输入内容",icon:"edit","on-icon-click":t.showTextArea},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doConfirm(t.content)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}},[n("el-select",{attrs:{slot:"prepend"},slot:"prepend",model:{value:t.selectClass,callback:function(e){t.selectClass=e},expression:"selectClass"}},[n("el-option",{attrs:{label:"记录",value:"a_info"}}),t._v(" "),n("el-option",{attrs:{label:"重要",value:"b_important"}}),t._v(" "),n("el-option",{attrs:{label:"紧急",value:"c_urgency"}})],1)],1)],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"success"},on:{click:function(e){return t.upload(t.content)}}},[t._v("上传")])],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:function(e){return t.download(t.content)}}},[t._v("下载")])],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.doConfirm(t.content)}}},[t._v("确 定")])],1)],1),t._v(" "),t.show?n("el-row",{staticStyle:{"margin-top":"20px"},attrs:{type:"flex",justify:"space-between",gutter:20}},t._l(t.store,function(t,e){return n("el-col",{attrs:{span:8}},[n("todo-item",{attrs:{type:e,data:t}})],1)}),1):t._e()],1),t._v(" "),n("el-tab-pane",{attrs:{label:"书签管理",name:"third"}},[t._v("角色管理")]),t._v(" "),n("el-tab-pane",{attrs:{label:"云笔记",name:"fourth"}},[t._v("定时任务补偿")]),t._v(" "),n("el-tab-pane",{attrs:{label:"权限管理",name:"second"}},[n("login")],1)],1),t._v(" "),t._m(0),t._v(" "),n("el-dialog",{attrs:{title:"输入待办事项",visible:t.dialogVisible,size:"large"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.doConfirm(t.textarea)}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-right text",staticStyle:{"margin-top":"15px"}},[t._v("\n      本插件已开源至 "),n("a",{staticStyle:{color:"#20a0ff",outline:"none"},attrs:{href:"http://github.com/lflxp/Easy-todo",target:"_blank"}},[t._v("lflxp / Easy-todo")])])}]}},182:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"仓库地址",prop:"url"}},[n("el-input",{attrs:{type:"text"},model:{value:t.ruleForm.url,callback:function(e){t.$set(t.ruleForm,"url",e)},expression:"ruleForm.url"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"私有Token",prop:"token"}},[n("el-input",{attrs:{type:"password"},model:{value:t.ruleForm.token,callback:function(e){t.$set(t.ruleForm,"token",e)},expression:"ruleForm.token"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("保存配置")]),t._v(" "),n("el-button",{on:{click:function(e){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)},staticRenderFns:[]}},53:function(t,e,n){"use strict";var r=n(113),s=n.n(r),o=n(55),a=(n.n(o),n(17)),i=(n.n(a),{});i.set=function(t){chrome.storage.sync.set(t)},i.get=function(t){return new s.a(function(e){chrome.storage.sync.get(t,function(n){e(n[t])})})},e.a=i},82:function(t,e){},83:function(t,e){},84:function(t,e,n){var r=n(50)(n(108),n(181),null,null,null);t.exports=r.exports}},[111]);
//# sourceMappingURL=app.113773cce548edfddf3e.js.map